@model List<TreeAccounts_saleInvice.Models.Account>
<div class="card mb-4" id="form-container">
<div class="card-header d-flex justify-content-between align-items-center">
    <h5 class="mb-0">إضافة حساب</h5>
    <small class="float-end text-muted">إضافة حساب الى دليل الحسابات</small>
</div>
<div class="card-body">
    <form method="post" style="display: flex; flex-direction: column;"
          hx-post="?handler=SaveAccount"
          hx-target="#save-result"
          hx-swap="innerHTML">


        <div class="row g-3">
            <div class="col-md">
                <label class="form-label">حساب الأب</label>
                    <select class ="form-control"
                                 select2 data-placeholder="اختر حساب الأب" data-allow-clear="true" name="FatherNumber" id="FatherNumber" required>
                        <option></option>
                        @foreach (var account in Model.Where(a => a.AccountType == "رئيسي" && a.AccountNumber != "9"))
                    {
                        <option value="@account.AccountNumber">@account.AccountName (@account.AccountNumber)</option>
                    }


                </select>
            </div>
            <div class="col-md-6">
                <label class="form-label">اسم الحساب</label>
                <input type="text" id="AccountName" name="AccountName" class="form-control" placeholder="اسم الحساب" required />
            </div>

            <div class="col-md-6">
                <label class="form-label">رقم الحساب</label>
                <input type="text"
                       id="AccountNumber"
                       name="AccountNumber"
                       class="form-control phone-mask" required />
            </div>
            <div class="col-md-6">
                <label class="form-label">الاسم الإنجليزي</label>
                <input type="text" id="AccountNameEng" name="AccountNameEng" class="form-control" />
            </div>

            <div class="col-md-6">
                <label class="form-label">نوع الحساب</label>
                    <select class="form-select" select2 data-placeholder="اختر نوع الحساب" data-allow-clear="true" id="AccountType" name="AccountType" required>
                
                        <option value="رئيسي">رئيسي</option>
                    <option value="فرعي">فرعي</option>

                </select>
            </div>


            <div class="col-md-6">
                <label class="form-label">الحساب الختامي</label>
                    <select class="form-select" select2 data-placeholder="اختر الحساب الختامي" data-allow-clear="true" id="AccountReference" name="AccountReference" required>
                       
                        <option value="الارباح والخسائر">الارباح والخسائر</option>
                    <option value="الميزانية العمومية">الميزانية العمومية</option>

                </select>
            </div>


            <div class="save-overlay htmx-indicator" aria-hidden="true">
                <div class="loader">
                    <span></span><span></span><span></span><span></span>
                </div>
                <div class="save-text">جارٍ حفظ الحساب...</div>
            </div>

            <div class="col-md-6">
                <div class="col-sm-10">
                    <button type="submit" class="btn btn-primary">حفظ</button>
                </div>
            </div>
        </div>
    </form>

</div>
                </div>